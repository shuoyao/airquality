<html>
  <head>
    <title>Geocoding service</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="geocodestyle.css" /> 
  </hea d>

  <header role="banner">
  <div class="performance-title">
        An official website of air quality performance information
  </div>

    <section class="usa-banner">
      <div class="usa-grid">
        <div class="usa-banner-content" id="main-content">
          <h1>Welcome To Air Quality Performance</h1>
          <h2>Please enter your zipcode and check out the air quality performance in your area</h2>
          <div id="floating-panel" class="usa-grid">
          <input id="zipcode" type="textbox" value="zipcode">
          <input id="submit" type="button" value="Find your place">
      </div>
      <p id="output"></p>
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/Truncated_Bar_Graph.svg/2000px-Truncated_Bar_Graph.svg.png" style="width:1000px; height:500px;">
        </div>

      </div>
    </section>

    <section>
      <div>
        <a class="red-button write-a-letter-button" href="https://www.google.com/webhp?sourceid=chrome-instant&ion=1&espv=2&ie=UTF-8#q=style%20css%20inline">Write a Letter</a>
        <a class="red-button more-info-button" href="https://github.com/18F/web-design-standards/releases/download/v0.9.0/uswds-0.9.0.zip" onclick="ga('send', 'event', 'Downloaded framework', 'Clicked download button on homepage');">Get More Information</a>
      </div>
    </section>

  </header>

  <body>

    <!-- Site navigation menu -->
    <ul class="navbar">
      <li><a href="index.html">Home page</a>
      <li><a href="musings.html">Musings</a>
      <li><a href="town.html">My town</a>
      <li><a href="links.html">Links</a>
    </ul>

    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDD8tHFDvOE5REy17jBFLB3CJm-wtPdoow&callback=initializeTransfer">
    </script>

    <script>
      function initializeTransfer() {
        var geocoder = new google.maps.Geocoder();
        document.getElementById('submit').addEventListener('click', function() {
          zipcodeSwitch(geocoder);
        });
      }

      function zipcodeSwitch(geocoder) {
        var lat = '';
        var lng = '';
        var zipcode = document.getElementById('zipcode').value;
        geocoder.geocode( { 'address': zipcode}, function(results, status) {
          if (status == google.maps.GeocoderStatus.OK) {
            //this is the latitude variable
            lat = results[0].geometry.location.lat();
            //this is the longitude variable
            lng = results[0].geometry.location.lng();
            document.getElementById('output').innerHTML = 'latitude: ' + lat + '\n longitude: ' + lng;
          } else {
            alert("Geocode was not successful for the following reason: " + status);
          }
        });
    }
  </script>
   
  </body>
</html>